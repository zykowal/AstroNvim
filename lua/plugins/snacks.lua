return {
  "folke/snacks.nvim",
  dependencies = {
    "AstroNvim/astrocore",
    opts = {
      mappings = {
        n = {
          ["<leader>."] = { function() require("snacks").scratch() end, desc = "Toggle Scratch Buffer" },
          ["<leader>f."] = { function() require("snacks").scratch.select() end, desc = "Select Scratch Buffer" },
        },
      },
    },
  },
  opts = {
    styles = {
      scratch = {
        width = 0.75,
        height = 0.75,
      },
    },
    zen = {
      toggles = {
        dim = true,
        git_signs = false,
        mini_diff_signs = false,
        diagnostics = true,
        inlay_hints = true,
      },
      win = {
        min_width = 120,
        wo = {
          signcolumn = "no",
        },
      },
    },
    picker = {
      layout = "default",
      layouts = {
        default = {
          layout = {
            box = "horizontal",
            width = 0.85,
            min_width = 120,
            height = 0.85,
            {
              box = "vertical",
              border = "rounded",
              title = "{title} {live} {flags}",
              { win = "input", height = 1, border = "bottom" },
              { win = "list", border = "none" },
            },
            { win = "preview", title = "{preview}", border = "rounded", width = 0.618 },
          },
        },
      },
    },
    dashboard = {
      preset = {
        keys = {},
        header = table.concat({
          "                                                                                  ",
          "                                                                                  ",
          "                      *((##*                                                      ",
          "                  /###%%#%&&&%,                           .%((//(/.               ",
          "                  #%%&&&&@@@@@@@*                        #%#&%@&%%##%%            ",
          "                 &&&@@@@@@@@@@@@@   .**(/(,*,/,*,       &@@@@@@@@@&&%%%*          ",
          "                 @@@@@@@@@@&@*                         %@@@@@@@@@@@@&&&&          ",
          "                  @@@@%/,               ,                 /@&%@@@@@@@&&&*         ",
          "                   &@,                 .                      /%@@@@@@@&.         ",
          "                .(..                  ,                         *#@@@@@#          ",
          "              .(                                                 .@@@@*           ",
          "              #                                                    (              ",
          "             ,             *%@%             .@@@@&*                 ,             ",
          "          *            /@@@@@@&            @@@@@@@@&                .*            ",
          "          ,            @@@@@@@@,   ...  .   .@@@@@@@@@                 /          ",
          "          /           @@@@@@/                  *&@@@@@&                           ",
          "         /           ,@&@@@.    %@@@@@@@@@,     .#@@@&&                 ,         ",
          "         #            (%%%/    *@@@@@@@@@%*      *&%#(*                 /         ",
          "         *        .     .           /                   , .,.                     ",
          "          .                /                     *                      *         ",
          "          *                #.    ./%,%/.      ,%                       /..        ",
          "          .,                                                        ,,*  *        ",
          "            %*                                 (%%#%%(,          *&*..    ,       ",
          "           ,/**#@%,**         ........ ...    #&&&@&&&%%%&(,#@@@@@&##%(%%#,,.     ",
          "          .%@@@@@@@@@@@@@@@@@@@@@@@&@@@@@@@@@(@@@@@@&&@@%&%%&&&#@@@@@@@@&&&%(,    ",
          "          (%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.@@@@@@@@@@@@@@@&&%&@%&@@@@@@@@@%#,   ",
          "        *&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@/@@@@@@@@@@@@@@@@@@@@&%&&*&@@@@@@&&#.  ",
          "        &@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@/@@@@@@@@@@@@@@@@@@@@@&@@@&&(@@@@@@&%* ",
          "      .#@@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@%@@@(@@@@@@@@@@@@@@@@@@@@@@@@@&@@@@##@@@@#.",
          "      /@@@@@@@@@@@%%&%@&##%&#%/(@(&#%%###%&%@/@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&/",
          "     @@@@@@@@@@%((/((**,.,,,,*,,.,*.*.,*,,,,.. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@/",
          "    .@@@@@@@@@/.*   .                           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@(",
        }, "\n"),
      },
    },
  },
}
